{"version":3,"sources":["webpack:///./src/templates/lyrics-post.js"],"names":["matchHtmlTags","LyricsPostTemplate","data","pageContext","location","post","markdownRemark","siteTitle","site","siteMetadata","title","previous","next","useEffect","image","document","querySelector","style","disqusConfig","shortname","process","GATSBY_DISQUS_NAME","config","identifier","pathname","frontmatter","titleWithoutTags","replace","descWithoutTags","description","excerpt","marginTop","rhythm","marginBottom","dangerouslySetInnerHTML","__html","display","color","author","pageUrl","html","flexWrap","justifyContent","listStyle","padding","to","fields","slug","rel","href","src","princeJump","alt","className","pageQuery"],"mappings":"yRAWMA,EAAgB,eA8GPC,UA5GY,SAAC,GAAqC,IAAnCC,EAAkC,EAAlCA,KAAMC,EAA4B,EAA5BA,YAAaC,EAAe,EAAfA,SACzCC,EAAOH,EAAKI,eACZC,EAAYL,EAAKM,KAAKC,aAAaC,MACjCC,EAAmBR,EAAnBQ,SAAUC,EAAST,EAATS,KAElBC,qBAAU,WACR,IAAMC,EAAQC,SAASC,cAAc,8BACjCF,IACFA,EAAMG,MAAM,aAAe,aAE5B,IAEH,IAAMC,EAAe,CACnBC,UAAWC,GAAYC,mBACvBC,OAAQ,CACNC,WAAYnB,EAASoB,SACrBd,MAAOL,EAAKoB,YAAYf,QAItBgB,EAAmBrB,EAAKoB,YAAYf,MAAMiB,QAAQ3B,EAAe,IAEjE4B,GADOvB,EAAKoB,YAAYI,aAAexB,EAAKyB,SACrBH,QAAQ3B,EAAe,IAEpD,OACE,kBAAC,IAAD,CAAQI,SAAUA,EAAUM,MAAOH,GACjC,kBAAC,IAAD,CAAKG,MAAOgB,EAAkBG,YAAaD,IAE3C,iCACE,gCACE,wBACEX,MAAO,CACLc,UAAWC,YAAO,GAClBC,aAAc,GAEhBC,wBAAyB,CAAEC,OAAQ9B,EAAKoB,YAAYf,SAEtD,uBACEO,MAAO,CACLmB,QAAS,QACTH,aAAc,IAGhB,2BAAOhB,MAAO,CAAEoB,MAAO,YACpBhC,EAAKoB,YAAYa,OAAQ,MAG9B,kBAAC,IAAD,CACE5B,MAAOL,EAAKoB,YAAYf,MACxB6B,QAASnC,EAASoB,SAClBP,MAAO,CAAEgB,aAAc,OAG3B,6BAASC,wBAAyB,CAAEC,OAAQ9B,EAAKmC,QACjD,wBACEvB,MAAO,CACLc,UAAWC,YAAO,GAClBC,aAAcD,YAAO,MAGzB,gCACE,kBAAC,IAAD,QAIJ,6BACE,wBACEf,MAAO,CACLmB,QAAS,OACTK,SAAU,OACVC,eAAgB,gBAChBC,UAAW,OACXC,QAAS,IAGX,4BACGjC,GACC,kBAAC,OAAD,CACEkC,GAAE,QAAUlC,EAASmC,OAAOC,KAC5BC,IAAI,OACJd,wBAAyB,CACvBC,OAAO,KAAMxB,EAASc,YAAYf,UAK1C,4BACGE,GACC,kBAAC,OAAD,CACEiC,GAAE,QAAUjC,EAAKkC,OAAOC,KACxBC,IAAI,OACJd,wBAAyB,CACvBC,OAAWvB,EAAKa,YAAYf,MAAtB,WAQlB,kBAAC,kBAAoBQ,GACrB,uBAAG+B,KAAK,QACN,yBAAKC,IAAKC,IAAYC,IAAI,IAAIC,UAAU,mBAQzC,IAAMC,EAAS","file":"component---src-templates-lyrics-post-js-4ea30bc6aa90e7c46eeb.js","sourcesContent":["import React, { useEffect } from 'react'\nimport { Link, graphql } from 'gatsby'\nimport { DiscussionEmbed } from 'disqus-react'\n\nimport Bio from '../components/bio'\nimport Layout from '../components/layout'\nimport SEO from '../components/seo'\nimport { rhythm } from '../utils/typography'\nimport princeJump from '../../content/assets/prince-jump.png'\nimport ShareToSocial from '../components/shareToSocial'\n\nconst matchHtmlTags = /<(\\/?)\\w+>/gi\n\nconst LyricsPostTemplate = ({ data, pageContext, location }) => {\n  const post = data.markdownRemark\n  const siteTitle = data.site.siteMetadata.title\n  const { previous, next } = pageContext\n\n  useEffect(() => {\n    const image = document.querySelector('.gatsby-resp-image-wrapper')\n    if (image) {\n      image.style['max-width'] = 'initial'\n    }\n  }, [])\n\n  const disqusConfig = {\n    shortname: process.env.GATSBY_DISQUS_NAME,\n    config: {\n      identifier: location.pathname,\n      title: post.frontmatter.title,\n    },\n  }\n\n  const titleWithoutTags = post.frontmatter.title.replace(matchHtmlTags, '')\n  const desc = post.frontmatter.description || post.excerpt\n  const descWithoutTags = desc.replace(matchHtmlTags, '')\n\n  return (\n    <Layout location={location} title={siteTitle}>\n      <SEO title={titleWithoutTags} description={descWithoutTags} />\n\n      <article>\n        <header>\n          <h1\n            style={{\n              marginTop: rhythm(1),\n              marginBottom: 0,\n            }}\n            dangerouslySetInnerHTML={{ __html: post.frontmatter.title }}\n          />\n          <p\n            style={{\n              display: 'block',\n              marginBottom: 0,\n            }}\n          >\n            <small style={{ color: '#a0a0a0' }}>\n              {post.frontmatter.author}{' '}\n            </small>\n          </p>\n          <ShareToSocial\n            title={post.frontmatter.title}\n            pageUrl={location.pathname}\n            style={{ marginBottom: 20 }}\n          />\n        </header>\n        <section dangerouslySetInnerHTML={{ __html: post.html }} />\n        <hr\n          style={{\n            marginTop: rhythm(2),\n            marginBottom: rhythm(2),\n          }}\n        />\n        <footer>\n          <Bio />\n        </footer>\n      </article>\n\n      <nav>\n        <ul\n          style={{\n            display: 'flex',\n            flexWrap: 'wrap',\n            justifyContent: 'space-between',\n            listStyle: 'none',\n            padding: 0,\n          }}\n        >\n          <li>\n            {previous && (\n              <Link\n                to={`blog/${previous.fields.slug}`}\n                rel=\"prev\"\n                dangerouslySetInnerHTML={{\n                  __html: `← ${previous.frontmatter.title}`,\n                }}\n              />\n            )}\n          </li>\n          <li>\n            {next && (\n              <Link\n                to={`blog/${next.fields.slug}`}\n                rel=\"next\"\n                dangerouslySetInnerHTML={{\n                  __html: `${next.frontmatter.title} →`,\n                }}\n              />\n            )}\n          </li>\n        </ul>\n      </nav>\n      {/* eslint-disable-next-line */}\n      <DiscussionEmbed {...disqusConfig} />\n      <a href=\"#top\">\n        <img src={princeJump} alt=\"^\" className=\"jump-to-top\" />\n      </a>\n    </Layout>\n  )\n}\n\nexport default LyricsPostTemplate\n\nexport const pageQuery = graphql`\n  query LyricsPostBySlug($slug: String!) {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      id\n      excerpt(pruneLength: 160)\n      html\n      timeToRead\n      frontmatter {\n        title\n        date(formatString: \"MMMM DD, YYYY\")\n        description\n        author\n      }\n    }\n  }\n`\n"],"sourceRoot":""}